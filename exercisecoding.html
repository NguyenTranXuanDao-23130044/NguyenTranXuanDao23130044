<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Coding Exercise </title>
    <style>
        body {
            font-family:'Times New Roman', Times, serif;
            background-color: #f0f2f5;
            padding: 20px;
        }
        .exercise-header {
            margin-bottom: 20px;
        }
        .code-editor, .metrics {
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            background-color: white;
        }
        .metrics {
            display: flex;
            justify-content: space-between;
        }
        button {
            padding: 10px 15px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        .hint-btn {
            background-color: #FFC107;
        }
        .feedback, .ranking {
            margin-top: 20px;
        }
        .feedback textarea {
            width: 100%;
            height: 100px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            resize: none;
        }
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            button {
                width: 100%;
                margin-top: 10px;
            }
        }
    </style>
</head>
<body>
    
    <div class="exercise-header">
        <h2>Exercise: Implement a Function in Python</h2>
        <p><strong>Description:</strong> Write a Python function that calculates the factorial of a number.</p>
        <p><strong>Instructions:</strong> Your code should handle edge cases where the input is 0 or 1.</p>
    </div>

    <!-- Code Editor -->
    <div class="code-editor">
        <textarea id="code-editor" rows="10" style="width: 100%;"></textarea>
    </div>

    <!-- Performance Metrics -->
    <div class="metrics">
        <div><strong>Time Taken:</strong> <span id="time-taken">--</span> seconds</div>
        <div><strong>Memory Used:</strong> <span id="memory-used">--</span> MB</div>
        <div><strong>Test Cases Passed:</strong> <span id="test-passed">0</span> / <span id="total-test-cases">3</span></div>
    </div>

    <!-- Buttons for code control -->
    <button onclick="runCode()">Run Code</button>
    <button onclick="clearCode()">Clear Code</button>
    <button onclick="submitCode()">Submit</button>
    <button onclick="tryAgain()">Try Again</button>
    <button onclick="returnDashboard()">Return to Dashboard</button>
    <button class="hint-btn" onclick="showHint()">Hint (3 left)</button>

    <!-- Feedback Section -->
    <div class="feedback">
        <h3>Leave Feedback or Ask for Help</h3>
        <textarea placeholder="Your feedback or question..."></textarea>
        <button>Submit Feedback</button>
    </div>

    <!-- Rankings Section (optional for competitive environments) -->
    <div class="ranking">
        <h3>Student Performance Rankings</h3>
        <ul>
            <li>Student 1 - Score: 95%</li>
            <li>Student 2 - Score: 90%</li>
            <li>Student 3 - Score: 85%</li>
        </ul>
    </div>

    <script>
        // Simulate code execution (this is a basic example, you'll need a server-side sandbox for real execution)
        function runCode() {
            document.getElementById("time-taken").innerText = (Math.random() * 2).toFixed(2);
            document.getElementById("memory-used").innerText = (Math.random() * 10).toFixed(2);
            document.getElementById("test-passed").innerText = Math.floor(Math.random() * 4);
        }

        function clearCode() {
            document.getElementById("code-editor").value = "";
        }

        function submitCode() {
            alert("Code Submitted for Grading!");
        }

        function tryAgain() {
            clearCode();
            alert("You can try again!");
        }

        function returnDashboard() {
            window.location.href = 'dashboard.html'; // Navigate back to dashboard
        }

        function showHint() {
            alert("Hint: Remember to consider edge cases.");
        }
    </script>

</body>
</html>